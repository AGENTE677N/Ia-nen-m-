<!DOCTYPE html>
<html lang="pt-BR">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>Correção de Redação - IAM</title>
  <script src="https://cdn.tailwindcss.com"></script>
  <script src="https://unpkg.com/@lottiefiles/lottie-player@latest/dist/lottie-player.js"></script>
</head>
<body class="bg-black min-h-screen flex flex-col text-gray-200">

  <main class="flex-grow flex items-center justify-center p-6">
    <div class="bg-gray-900 shadow-2xl rounded-3xl p-8 w-full max-w-3xl space-y-6 border border-gray-700">
      <h1 class="text-3xl font-extrabold text-center text-blue-500 drop-shadow-lg">Correção de Redação - ENEM</h1>
      
      <textarea 
        id="redacao" rows="12" 
        placeholder="Digite ou cole sua redação aqui..." 
        class="w-full p-5 border border-gray-700 rounded-2xl resize-none bg-gray-800 text-gray-100 placeholder-gray-500 focus:outline-none focus:ring-4 focus:ring-blue-600 transition"
      ></textarea>
      
      <div class="flex justify-center">
        <button 
          onclick="analisarRedacao()" 
          class="bg-blue-600 hover:bg-blue-700 text-white font-semibold px-8 py-3 rounded-2xl shadow-lg transition transform hover:scale-105"
          aria-label="Analisar Redação"
        >
          Analisar Redação
        </button>
      </div>

      <div id="loading" class="hidden flex justify-center">
        <lottie-player 
          src="https://assets2.lottiefiles.com/packages/lf20_usmfx6bp.json" 
          background="transparent" 
          speed="1" 
          style="width: 130px; height: 130px;" 
          loop autoplay
        ></lottie-player>
      </div>

      <div id="resultado" class="bg-gray-800 p-6 rounded-2xl hidden shadow-inner border border-gray-700">
        <h2 class="text-2xl font-bold text-blue-400 mb-4">Resultado:</h2>
        <p id="notaFinal" class="text-lg mb-4 font-semibold"></p>
        <ul class="list-disc list-inside space-y-2 text-gray-300" id="explicacao"></ul>
      </div>
    </div>
  </main>

  <footer class="text-center py-5 text-sm text-gray-500 bg-gray-900 border-t border-gray-700">
    Desenvolvido por Paulo Eduardo
  </footer>

  <script>
    function analisarRedacao() {
      const texto = document.getElementById('redacao').value.trim();
      const resultadoDiv = document.getElementById('resultado');
      const loading = document.getElementById('loading');
      const notaFinal = document.getElementById('notaFinal');
      const explicacao = document.getElementById('explicacao');

      if (!texto || texto.length < 300) {
        alert("Por favor, escreva uma redação com pelo menos 300 caracteres.");
        return;
      }

      resultadoDiv.classList.add('hidden');
      loading.classList.remove('hidden');

      setTimeout(() => {
        loading.classList.add('hidden');
        resultadoDiv.classList.remove('hidden');

        // Simulação de nota (exemplo temporário)
        const nota = Math.floor(Math.random() * 301) + 700; // nota entre 700 e 1000
        notaFinal.textContent = `Nota Final: ${nota} / 1000`;

        explicacao.innerHTML = `
          <li><strong>Competência 1:</strong> Demonstrou domínio da norma culta da língua escrita.</li>
          <li><strong>Competência 2:</strong> Compreendeu o tema e apresentou repertório sociocultural relevante.</li>
          <li><strong>Competência 3:</strong> Organizou bem as ideias com progressão textual.</li>
          <li><strong>Competência 4:</strong> Argumentou de forma consistente e articulada.</li>
          <li><strong>Competência 5:</strong> Propôs intervenção detalhada, respeitando os direitos humanos.</li>
        `;
      }, 2000);
    }
  </script>

</body>
</html>
